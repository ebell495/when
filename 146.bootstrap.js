"use strict";(self.webpackChunkwhen=self.webpackChunkwhen||[]).push([[146],{9:(n,e,t)=>{t.a(n,(async r=>{t.d(e,{Is:()=>y,aV:()=>v,Ih:()=>E,yq:()=>k,gk:()=>z,ug:()=>T,h4:()=>S,qt:()=>A,XJ:()=>I,no:()=>C,qs:()=>N,Vt:()=>q,H$:()=>O,Or:()=>R});var o=t(50);n=t.hmd(n);var a=r([o]);o=(a.then?await a:a)[0];var i=new Array(32).fill(void 0);function l(n){return i[n]}i.push(void 0,null,!0,!1);var c=i.length;var u=new("undefined"==typeof TextDecoder?(0,n.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});u.decode();var s=null;function d(){return null!==s&&s.buffer===o.memory.buffer||(s=new Uint8Array(o.memory.buffer)),s}function m(n,e){return u.decode(d().subarray(n,n+e))}function f(n){c===i.length&&i.push(i.length+1);var e=c;return c=i[e],i[e]=n,e}var p=0,_=new("undefined"==typeof TextEncoder?(0,n.require)("util").TextEncoder:TextEncoder)("utf-8"),g="function"==typeof _.encodeInto?function(n,e){return _.encodeInto(n,e)}:function(n,e){var t=_.encode(n);return e.set(t),{read:n.length,written:t.length}};function h(n,e,t){if(void 0===t){var r=_.encode(n),o=e(r.length);return d().subarray(o,o+r.length).set(r),p=r.length,o}for(var a=n.length,i=e(a),l=d(),c=0;c<a;c++){var u=n.charCodeAt(c);if(u>127)break;l[i+c]=u}if(c!==a){0!==c&&(n=n.slice(c)),i=t(i,a,a=c+3*n.length);var s=d().subarray(i+c,i+a);c+=g(n,s).written}return p=c,i}var b=null;function w(){return null!==b&&b.buffer===o.memory.buffer||(b=new Int32Array(o.memory.buffer)),b}function y(n){try{var e=o.__wbindgen_add_to_stack_pointer(-16),t=h(n,o.__wbindgen_malloc,o.__wbindgen_realloc),r=p;o.parse_expr(e,t,r);var a=w()[e/4+0],i=w()[e/4+1];return m(a,i)}finally{o.__wbindgen_add_to_stack_pointer(16),o.__wbindgen_free(a,i)}}function v(){o.set_panic_hook()}function x(n,e){try{return n.apply(this,e)}catch(n){o.__wbindgen_exn_store(f(n))}}function E(){return f(new Error)}function k(n,e){var t=h(l(e).stack,o.__wbindgen_malloc,o.__wbindgen_realloc),r=p;w()[n/4+1]=r,w()[n/4+0]=t}function z(n,e){try{console.error(m(n,e))}finally{o.__wbindgen_free(n,e)}}function T(n){var e;l(e=n),function(n){n<36||(i[n]=c,c=n)}(e)}function S(n,e){return f(m(n,e))}function A(n,e){var t=l(e),r="string"==typeof t?t:void 0,a=null==r?0:h(r,o.__wbindgen_malloc,o.__wbindgen_realloc),i=p;w()[n/4+1]=i,w()[n/4+0]=a}function I(){return x((function(n,e){return f(Reflect.get(l(n),l(e)))}),arguments)}function C(n){return l(n).getTime()}function N(){return f(new Date)}function q(n,e){return f(new Intl.DateTimeFormat(l(n),l(e)))}function O(n){return f(l(n).resolvedOptions())}function R(n,e){throw new Error(m(n,e))}}))},146:(n,e,t)=>{t.a(n,(async n=>{t.r(e);var r=t(9),o=t(294),a=t(935),i=(t(110),n([r]));function l(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a=[],i=!0,l=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(n){l=!0,o=n}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(n,e)||function(n,e){if(n){if("string"==typeof n)return c(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}(r=(i.then?await i:i)[0]).aV();var u=["now","2 hours ago in yyz","5pm in yyz -> sfo","5pm in Vienna -> London","4pm on 17.05.2021 in Vienna -> Tokyo","in 4 hours in San Francisco","2pm in 2 days in New Delhi","now in yyz -> sfo -> vie -> lhr","unix 1639067620 in Tokyo"];function s(n){var e=n.match(/^([^T]+)T([^.]+)/);return{time:e[2],date:e[1]}}function d(n){var e=n.location,t=s(e.datetime);return o.createElement("table",null,o.createElement("tbody",null,o.createElement("tr",null,o.createElement("th",null,"Time"),o.createElement("td",null,o.createElement("span",{className:"time"},t.time)," (",e.relative_to_now_human," â€” ",e.time_of_day.replace(/_/g," "),")")),o.createElement("tr",null,o.createElement("th",null,"Date"),o.createElement("td",null,o.createElement("span",{className:"date"},t.date))),o.createElement("tr",null,o.createElement("th",null,"Zone"),o.createElement("td",null,o.createElement("span",{className:"zone"},e.timezone.name)," (",e.timezone.abbrev,"; ",e.timezone.utc_offset,")")),e.location&&o.createElement("tr",null,o.createElement("th",null,"Location"),o.createElement("td",null,o.createElement("strong",null,e.location.name),e.location.admin_code?" (".concat(e.location.admin_code,"; ").concat(e.location.country,")"):e.location.country?" (".concat(e.location.country,")"):null))))}function m(n){var e=n.setExpr;return o.createElement("div",{class:"examples"},o.createElement("h3",null,"Need inspiration? Try some of these"),o.createElement("ul",null,u.map((function(n,t){return o.createElement("li",{key:t},o.createElement("a",{onClick:function(){e(n)}},n))}))))}function f(n){var e=n.locations;return o.createElement("ul",null,e.map((function(n,e){return o.createElement("li",{key:e},o.createElement(d,{location:n}))})))}function p(n){var e=n.locations,t=(0,o.useRef)();return o.createElement("pre",{ref:t,onClick:function(){var n=document.createRange();n.selectNodeContents(t.current);var e=window.getSelection();e.removeAllRanges(),e.addRange(n)}},function(n){return n.map((function(n){var e=s(n.datetime),t=["time: ".concat(e.time," (").concat(n.relative_to_now_human,"; ").concat(n.time_of_day.replace(/_/g," "),")"),"date: ".concat(e.date),"zone: ".concat(n.timezone.name," (").concat(n.timezone.abbrev,"; ").concat(n.timezone.utc_offset,")")];if(n.location){var r="location: ".concat(n.location.name);n.location.admin_code?r+=" (".concat(n.location.admin_code,"; ").concat(n.location.country,")"):n.location.country&&(r+=" (".concat(n.location.country,")")),t.push(r)}return t.join("\n")})).join("\n\n")}(e))}function _(){var n,e=new URL(window.location),t=l((0,o.useState)(0),2),a=t[0],i=t[1],c=l((0,o.useState)("text"==e.searchParams.get("format")),2),u=c[0],s=c[1],d=l((0,o.useState)(e.searchParams.get("input")||""),2),_=d[0],g=d[1],h=(0,o.useRef)(),b=(n=_,JSON.parse(r.Is(n||"now")));function w(n){g(n),h.current&&h.current.focus()}(0,o.useEffect)((function(){var n=new URL(window.location);if(n.searchParams.set("input",_),u?n.searchParams.set("format","text"):n.searchParams.delete("format"),window.history.replaceState({},"",n),b.is_relative&&!u){var e=setTimeout((function(){i(a+1)}),1e3);return function(){return clearTimeout(e)}}}),[a,b.is_relative,u,location.search]);var y=_&&b.locations.length>0;return o.createElement("div",null,o.createElement("header",null,o.createElement("h1",null,"when?"),o.createElement("a",{href:"https://github.com/mitsuhiko/when"},"huh?")," | ",o.createElement("a",{href:"https://lucumr.pocoo.org/"},"who?")),o.createElement("a",{onClick:function(){return w("")},title:"Clear input (ESC)",className:"clear"},"x"),o.createElement("input",{type:"text",value:_,ref:h,onKeyUp:function(n){"Escape"===n.key&&w("")},onChange:function(n){g(n.target.value)},size:"40",autoFocus:!0}),!_&&o.createElement(m,{setExpr:w}),y?o.createElement("div",{className:"actions"},o.createElement("a",{onClick:function(){s(!u)}},u?"as table":"as plain text")):null,y?u?o.createElement(p,{locations:b.locations}):o.createElement(f,{locations:b.locations}):null,b.error&&o.createElement("p",{className:"error"},o.createElement("strong",null,"Ugh:")," "+b.error+" :-("))}a.render(o.createElement(_,null),document.getElementById("root"))}))},902:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(81),o=t.n(r),a=t(645),i=t.n(a)()(o());i.push([n.id,"body {\n  background: rgb(41, 41, 40);\n  margin: 0;\n  padding: 20px;\n}\na {\n  color: #888;\n}\na:hover {\n  color: rgb(208, 145, 28);\n  cursor: pointer;\n  text-decoration: underline;\n}\nbody, input {\n  color: white;\n  font-family: Verdana, sans-serif;\n  font-size: 19px;\n}\nh1 {\n  font-size: 28px;\n  font-weight: normal;\n  margin: 0;\n  padding: 0 10px 0 0;\n  display: inline;\n}\n#root {\n  max-width: 900px;\n  margin: 30px auto 10px auto;\n  position: relative;\n}\ninput {\n  width: calc(100% - 16px);\n  background: rgb(57, 57, 53);\n  border: none;\n  border-bottom: 2px solid #888;\n  padding: 4px 8px;\n  color: #aaa;\n  font-weight: bold;\n  margin: 20px 0 20px 0;\n  border-radius: 0;\n}\ninput:focus {\n  outline: none;\n  color: white;\n}\na.clear {\n  position: absolute;\n  right: 10px;\n  margin-top: 22px;\n  text-decoration: none;\n  color: white;\n}\n#root ul {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n}\n#root table {\n  margin-bottom: 20px;\n}\n#root table th {\n  width: 100px;\n  font-size: 14px;\n  text-align: right;\n  padding-right: 7px;\n  color: #aaa;\n}\nspan.time { color: rgb(208, 145, 28); }\nspan.date { color: rgb(23, 143, 143); }\nspan.zone { text-decoration: underline; }\np.error { color: rgb(196, 138, 117); margin: 0; }\ndiv.examples {\n  padding: 0 0 0 20px;\n}\ndiv.examples h3 {\n  font-size: 18px;\n  margin: 0 0 8px -20px;\n  padding: 0;\n}\n\ndiv.actions {\n  margin-top: -10px;\n  text-align: right;\n  font-size: 80%;\n}\n\npre {\n  font-size: 85%;\n}\n\n@media only screen and (max-width: 600px) {\n  body {\n    font-size: 15px;\n  }\n  a.clear {\n    margin-top: 25px;\n  }\n  #root table th {\n    width: 70px;\n  }\n}",""]);const l=i},110:(n,e,t)=>{var r=t(379),o=t.n(r),a=t(795),i=t.n(a),l=t(569),c=t.n(l),u=t(565),s=t.n(u),d=t(216),m=t.n(d),f=t(589),p=t.n(f),_=t(902),g={};g.styleTagTransform=p(),g.setAttributes=s(),g.insert=c().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=m(),o()(_.Z,g),_.Z&&_.Z.locals&&_.Z.locals},50:(n,e,t)=>{var r=([r])=>t.v(e,n.id,"b2764c0a7290aae24a4e",{"./when_web_bg.js":{__wbg_new_693216e109162396:r.Ih,__wbg_stack_0ddaca5d1abfb52f:r.yq,__wbg_error_09919627ac0992f5:r.gk,__wbindgen_object_drop_ref:r.ug,__wbindgen_string_new:r.h4,__wbindgen_string_get:r.qt,__wbg_get_4d0f21c2f823742e:r.XJ,__wbg_getTime_10d33f4f2959e5dd:r.no,__wbg_new0_fd3a3a290b25cdac:r.qs,__wbg_new_e297cd8b9274e0c3:r.Vt,__wbg_resolvedOptions_193bc3750d6f4bd2:r.H$,__wbindgen_throw:r.Or}});t.a(n,(n=>{var e=n([t(9)]);return e.then?e.then(r):r(e)}),1)}}]);